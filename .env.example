# Configuración de Variables de Entorno para WLINK
# Copia este archivo como .env y configura con tus valores reales

# ==============================================
# URLS PRINCIPALES (CRÍTICAS PARA OAUTH)
# ==============================================

# URL principal de tu aplicación (reemplaza con tu dominio real)
# Ejemplo: https://tu-app.dokploy.app
APP_URL=https://wlink.prixcenter.com

# URL del frontend (CRÍTICO para evitar ERR_TOO_MANY_REDIRECTS)
# Debe incluir el path /app
# Ejemplo: https://tu-app.dokploy.app/app
FRONTEND_URL=https://wlink.prixcenter.com/app

# ==============================================
# CREDENCIALES GOHIGHLEVEL
# ==============================================

# Credenciales de tu aplicación en GoHighLevel
GHL_CLIENT_ID=tu_client_id_aqui
GHL_CLIENT_SECRET=tu_client_secret_aqui
GHL_CONVERSATION_PROVIDER_ID=tu_provider_id_aqui
GHL_SHARED_SECRET=tu_shared_secret_aqui

# ==============================================
# EVOLUTION API
# ==============================================

# URLs de Evolution API
EVOLUTION_API_URL=https://evo.tu-dominio.com
EVOLUTION_CONSOLE_URL=https://evo.tu-dominio.com/manager

# Token de instancia para Evolution API
INSTANCE_TOKEN=tu_token_de_instancia

# ==============================================
# BASE DE DATOS
# ==============================================

# URL de conexión a PostgreSQL
DATABASE_URL=postgresql://user:password@host:port/database

# ==============================================
# CONFIGURACIÓN EN GOHIGHLEVEL
# ==============================================

# En tu aplicación de GoHighLevel, configura la Redirect URI como:
# https://wlink.prixcenter.com/oauth/callback

# ==============================================
# NOTAS IMPORTANTES
# ==============================================

# 1. FRONTEND_URL debe terminar en /app (sin slash final)
# 2. APP_URL no debe tener slash final
# 3. La Redirect URI en GHL debe apuntar a /oauth/callback
# 4. Flujo esperado:
#    - GHL redirige a: APP_URL/oauth/callback
#    - Backend procesa y redirige a: FRONTEND_URL/oauth-success
#    - Usuario ve página de éxito